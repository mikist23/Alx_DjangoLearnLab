{% extends "blog/base.html" %}
{% block content %}
{% csrf_token %}
<div class="content">
    <h1>All Posts</h1>
    <ul class="post-list">
        {% for post in posts %}
        <li class="post-item">
            <a href="{% url 'detail_post' post.id %}" class="post-link">
                {% if post.image %}
                <img src="{{ post.image.url }}" alt="{{ post.title }}" class="post-image">
                {% endif %}
                <h2>{{ post.title }}</h2>
                <p>{{ post.content|truncatewords:20 }}</p>
                <div class="post-meta">
                    <span>By <strong>{{ post.author }}</strong></span>
                    <span>{{ post.created_at|date:"M d, Y" }}</span>
                </div>
            </a>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
